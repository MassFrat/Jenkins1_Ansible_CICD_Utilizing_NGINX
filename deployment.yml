---
- name: Install and Configure NGINX Server
  hosts: all
  become: yes 
  gather facts: yes 
  tasks:

#- name: Update apt cache
#apt:
#update_cache: yes 

    - name: Install NGINX Server
      apt:
        name: nginx
        state: present
        update_cache: yes 
  
    - name: Start and Enable NGINX Server
      service:
        name: nginx
        state: started
        enabled: yes 
  
# need to add an index.html file under files folder in my repo?   
    - name: Deploy static website  
      copy:
        src: files/index.html  
        dest: /var/www/html    

#    - name: Ensure NGINX is running
#      service:
#        name: nginx
#        state: started
#        enabled: yes
